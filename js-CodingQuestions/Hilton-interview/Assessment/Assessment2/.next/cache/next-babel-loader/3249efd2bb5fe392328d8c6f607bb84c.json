{"ast":null,"code":"import { createStore, applyMiddleware, store } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport rootReducer from \"./reducers\";\nimport thunk from \"redux-thunk\";\nvar initialState = {};\nvar middleWare = [thunk];\n\nvar LoadfromLocal = function LoadfromLocal() {\n  try {\n    var state = localStorage.getItem(\"state\");\n    console.log(\"state\", state);\n\n    if (state === null) {\n      return undefined;\n    }\n\n    return JSON.parse(state);\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nvar saveToLocal = function saveToLocal(initialState) {\n  try {\n    localStorage.setItem(\"state\", JSON.stringify(initialState)); // console.log(localStorage);\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nvar localStorageState = LoadfromLocal();\nexport var initStore = function initStore() {\n  var store = createStore(rootReducer, localStorageState, //initialState,\n  composeWithDevTools(applyMiddleware.apply(void 0, middleWare)));\n  console.log(\"getstate\", store.getState());\n  store.subscribe(function () {\n    return saveToLocal(store.getState());\n  });\n  return store;\n};","map":{"version":3,"sources":["/Users/zhiwang/Downloads/Assessment/Assessment2/redux/store.js"],"names":["createStore","applyMiddleware","store","composeWithDevTools","rootReducer","thunk","initialState","middleWare","LoadfromLocal","state","localStorage","getItem","console","log","undefined","JSON","parse","e","saveToLocal","setItem","stringify","localStorageState","initStore","getState","subscribe"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,eAAtB,EAAuCC,KAAvC,QAAoD,OAApD;AACA,SAASC,mBAAT,QAAoC,0BAApC;AACA,OAAOC,WAAP,MAAwB,YAAxB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AAEA,IAAMC,YAAY,GAAG,EAArB;AACA,IAAMC,UAAU,GAAG,CAACF,KAAD,CAAnB;;AAEA,IAAMG,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,MAAI;AACF,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,KAArB;;AACA,QAAIA,KAAK,KAAK,IAAd,EAAoB;AAClB,aAAOK,SAAP;AACD;;AACD,WAAOC,IAAI,CAACC,KAAL,CAAWP,KAAX,CAAP;AACD,GAPD,CAOE,OAAOQ,CAAP,EAAU;AACVL,IAAAA,OAAO,CAACC,GAAR,CAAYI,CAAZ;AACD;AACF,CAXD;;AAaA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAAZ,YAAY,EAAI;AAClC,MAAI;AACFI,IAAAA,YAAY,CAACS,OAAb,CAAqB,OAArB,EAA8BJ,IAAI,CAACK,SAAL,CAAed,YAAf,CAA9B,EADE,CAEF;AACD,GAHD,CAGE,OAAOW,CAAP,EAAU;AACVL,IAAAA,OAAO,CAACC,GAAR,CAAYI,CAAZ;AACD;AACF,CAPD;;AASA,IAAMI,iBAAiB,GAAGb,aAAa,EAAvC;AAEA,OAAO,IAAMc,SAAS,GAAG,SAAZA,SAAY,GAAM;AAC7B,MAAIpB,KAAK,GAAGF,WAAW,CACrBI,WADqB,EAErBiB,iBAFqB,EAGrB;AACAlB,EAAAA,mBAAmB,CAACF,eAAe,MAAf,SAAmBM,UAAnB,CAAD,CAJE,CAAvB;AAMAK,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBX,KAAK,CAACqB,QAAN,EAAxB;AACArB,EAAAA,KAAK,CAACsB,SAAN,CAAgB;AAAA,WAAMN,WAAW,CAAChB,KAAK,CAACqB,QAAN,EAAD,CAAjB;AAAA,GAAhB;AACA,SAAOrB,KAAP;AACD,CAVM","sourcesContent":["import { createStore, applyMiddleware, store } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport rootReducer from \"./reducers\";\nimport thunk from \"redux-thunk\";\n\nconst initialState = {};\nconst middleWare = [thunk];\n\nconst LoadfromLocal = () => {\n  try {\n    const state = localStorage.getItem(\"state\");\n    console.log(\"state\", state);\n    if (state === null) {\n      return undefined;\n    }\n    return JSON.parse(state);\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nconst saveToLocal = initialState => {\n  try {\n    localStorage.setItem(\"state\", JSON.stringify(initialState));\n    // console.log(localStorage);\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nconst localStorageState = LoadfromLocal();\n\nexport const initStore = () => {\n  let store = createStore(\n    rootReducer,\n    localStorageState,\n    //initialState,\n    composeWithDevTools(applyMiddleware(...middleWare))\n  );\n  console.log(\"getstate\", store.getState());\n  store.subscribe(() => saveToLocal(store.getState()));\n  return store;\n};\n"]},"metadata":{},"sourceType":"module"}